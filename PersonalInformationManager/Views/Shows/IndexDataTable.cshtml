@model IEnumerable<PersonalInformationManager.Models.Show>


@{
    ViewBag.Title = "TV Show List as DataTable";
}

@section DataTableJavaScript
{
    
<link href="~/Content/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" language="javascript" src="/Scripts/jquery-1.12.3.min.js">
</script>
    <script type="text/javascript" class="init">
        $(document).ready(function () {
            $.getScript("/Scripts/jquery-1.12.3.min.js")
	        .done(function () {
	                $.getScript("/Scripts/jquery.dataTables.min.js")
	                .done(function () {
	                   $.getScript("/Scripts/dataTables.bootstrap.min.js")
                       .done(function () {
                           $('#Shows').dataTable({
                               order: [[1, 'desc']],
                               "columnDefs": [
                               { "orderable": false, "targets": 0 }
                               ]
                           });
                       })
                       .fail(function () {
                       });
	                })
	                .fail(function () {
	                });
	        })
	        .fail(function () {
	        }); 
        });
    </script>
}
<div>&nbsp;</div>
<h2>TV Show List as DataTable</h2>

<div>
    <a href="@Url.Action("Index","Home")"><img src="~/images/back.jpg" width="50" height="50" />Back to the Home Page</a>
</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<p>
</p>
<table class="table table-striped table-bordered" id="Shows">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Image)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Title)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Season)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Source)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ReleaseDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ViewedDate)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @if (item.Image != null)
                    {
                        <img src="@Url.Action("GetShowImg", "Shows", new { id = item.ShowId })" alt="@item.Title" title="@item.Title" />
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Title)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Season)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Source.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ReleaseDate)

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ViewedDate)
                </td>
            </tr>
        }
    </tbody>
</table>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>
    <a href="@Url.Action("Index","Home")"><img src="~/images/back.jpg" width="50" height="50" />Back to the Home Page</a>
</div>
